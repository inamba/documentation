(function($){
    
	'use strict';
	
	/* ------------- METAS */

	function inambacdn___get_meta(metaName){
		const metas = document.getElementsByTagName('meta');
		for (let i = 0; i < metas.length; i++) {
			if (metas[i].getAttribute('name') === metaName) {
				return metas[i].getAttribute('content');
			}
		}
		return '';
	}
	
	var inambacdn___changing_colors = inambacdn___get_meta('inambamaintenance-changing-colors');

	$("body").addClass("transition-slow");

	function inambacdn___change_colors(){

		$("body").addClass("transition-slowest");
		$(".wrap h1").addClass("transition-slowest");
		$(".wrap p").addClass("transition-slowest");
		$(".wrap p a").addClass("transition-slowest");

		$("svg path").addClass("transition-slow");
		
		/*
		$("svg path").css("fill", "#009fdf");
		$(".wrap p a").css("color", "#009fdf");
		$(".wrap p a").css("border-bottom-color", "#009fdf");
		$(".wrap p a:hover").css("border-bottom-color", "#009fdf");
		$("body").css("background-color", "#ffffff");
		*/
		
		$("svg path").css("fill", "var(--inambamaintenance---color-primary-alter)");
		$(".wrap p a").css("color", "var(--inambamaintenance---color-primary-alter)");
		$(".wrap p a").css("border-bottom-color", "var(--inambamaintenance---color-primary-alter)");
		$(".wrap p a:hover").css("border-bottom-color", "var(--inambamaintenance---color-primary-alter)");
		$("body").css("background-color", "var(--inambamaintenance---backgroundcolor-primary-alter)");
		
		$(".wrap h1").css("color", "#333");
		$(".wrap p").css("color", "#333");
		$(".wrap p a:hover").addClass("transition");

	}

	$(document).ready(function(){
		
		window.setTimeout(function(){

			$("body").addClass("transition-slow");
			
			/*
			$("body").css("background-color", "#009fdf");
			*/
			
			$("body").css("background-color", "var(--inambamaintenance---color-primary-alter)");

		}, 1000);

		window.setTimeout(function(){

			$("#logo").addClass("logo-transition-added");

		}, 9500);

		window.setTimeout(function(){
			
			if(inambacdn___changing_colors != 'false'){
				inambacdn___change_colors();
			}

		}, 6500);

	});

	/* ------------- DOMAINS */

	var inambacdn___domain = window.location.hostname;
	
	function inambacdn___domain_target(){

		$('meta[name="inambamaintenance-target"]').remove();

		if(inambacdn___domain == 'localhost'){

			$('head').append('<meta name="inambamaintenance-target" content="http://' + inambacdn___domain + ':8888/inamba/cdn/" />');

		}else if(inambacdn___domain == 'cdn.inambadevelopers.ml'){

			/*
			$('head').append('<meta name="inambamaintenance-target" content="https://inambadevelopers.ml/" />');
			*/
			
			$('head').append('<meta name="inambamaintenance-target" content="https://' + inambacdn___domain + '/" />');

		}else{

			/*
			$('head').append('<meta name="inambamaintenance-target" content="https://inamba.com/" />');
			*/
			
			$('head').append('<meta name="inambamaintenance-target" content="https://' + inambacdn___domain + '/" />');

		}

	}

	inambacdn___domain_target();

	var inambacdn___get_target = inambacdn___get_meta('inambamaintenance-target');






	/* ------------- LANGUAGES */

	function inambacdn___i18n_init(){

		var inambacdn___language = window.navigator.userLanguage || window.navigator.language;
		var inambacdn___language_code = inambacdn___language = inambacdn___language.substring( 0, 2 );
		
		if(inambacdn___language_code == 'es'){

			var inambacdn___i18n_loading = 'Cargando';
			var inambacdn___i18n_note_message = "Please try again after a few minutes,... we are sorry for the inconvenience caused.";
			var inambacdn___i18n_note_link = 'haz clic aquí';

		}else if(inambacdn___language_code == 'ca'){

			var inambacdn___i18n_loading = 'Carregant';
			var inambacdn___i18n_note_message = "Please try again after a few minutes,... we are sorry for the inconvenience caused.";
			var inambacdn___i18n_note_link = 'fes clic aquí';

		}else if(inambacdn___language_code == 'eo'){

			var inambacdn___i18n_loading = 'Ŝargado';
			var inambacdn___i18n_note_message = "Please try again after a few minutes,... we are sorry for the inconvenience caused.";
			var inambacdn___i18n_note_link = 'alklaku ĉi tie';

		}else{

			var inambacdn___i18n_loading = 'Loading';
			var inambacdn___i18n_note_message = "Please try again after a few minutes,... we are sorry for the inconvenience caused.";
			var inambacdn___i18n_note_link = 'click here';

		}
		
		if(document.getElementById("header_link")){
			document.getElementById('header_link').innerHTML = inambacdn___i18n_note_link;
		}

		if(document.getElementById("header_note")){
			document.getElementById('header_note').innerHTML = inambacdn___i18n_note_message;
		}

		$('meta[name="inambamaintenance-i18n-loading"]').remove();
		$('head').append('<meta name="inambamaintenance-i18n-loading" content="' + inambacdn___i18n_loading + '" />');

	}

	inambacdn___i18n_init();

	var inambacdn___get_loading = inambacdn___get_meta('inambamaintenance-i18n-loading');






	/* ------------- LINKS */

	$('#logo a').removeAttr('href');
	$('#content p a').removeAttr('href');
	
	/*
	$('#logo a').css('cursor', 'pointer');
	$('#content p a').css('cursor', 'pointer');
	*/
	
	$('#logo a').css('cursor', 'not-allowed');
	$('#content p a').css('cursor', 'not-allowed');
	$('#logo a').css('pointer-events', 'none');
	$('#content p a').css('pointer-events', 'none');






	/* ------------- BUILD */

	var timeout = 4000;
	var timeout_ui = timeout - 900;
	var error_code = '307';
	var current_url = window.location;

	var builded_url = inambacdn___get_target;
	var redirect = inambacdn___get_meta('inambamaintenance-redirection');
	var redirect_utm = inambacdn___get_meta('inambamaintenance-redirection-utm');

	if(redirect_utm != 'false'){
		var builded_url = builded_url + '?utm_source=redirect&utm_error=' + error_code + '&utm_url=' + current_url;
	}else{
		var builded_url = builded_url;
	}






	/* ------------- LISTENER */

	window.addEventListener("load", function(){

		/*
		document.getElementById("logo").onclick = function(){

			inambacdn___title();
			$(".wrap").fadeOut(600);
			window.setTimeout(function(){
				top.window.location = builded_url;
			}, 700);

		};

		document.getElementById("header_link").onclick = function(){

			inambacdn___title();
			$(".wrap").fadeOut(600);
			window.setTimeout(function(){
				top.window.location = builded_url;
			}, 700);

		};
		*/

	});






	/* ------------- TITLE */

	function inambacdn___title(){

		var title_current = document.getElementsByTagName('title');
		var title_cdn = title_current[0].innerHTML;

		if(inambacdn___get_loading){
			var title_replace = inambacdn___get_loading + '...';
		}else{
			var title_replace = 'Loading' + '...';
		}

		title_current[0].innerHTML = title_replace;

	}






	/* ------------- INIT */

	function inambacdn___init(){

		$("#logo").hide().delay(600).fadeIn(800);
		$("#content").hide().delay(1600).fadeIn(800);

		/*
		$("#content h1").hide();
		*/
		
		window.setTimeout(function(){
			$("#logo").addClass("transition");
			$("#logo").addClass("logo_transition");
		}, 2100);

		if(redirect != 'false'){

			window.setTimeout(function(){
				inambacdn___title();
				$("#logo").removeClass("transition");
				$("#content").fadeOut(700);
				$("#logo").delay(300).fadeOut(700);
			}, timeout_ui);

			window.setTimeout(function(){
				/*
				location.href = builded_url;
				*/
				top.window.location = builded_url;
			}, timeout);

		}

	}

	$(document).ready(function(){

		inambacdn___init();

	});
	
})(jQuery);